<link rel="stylesheet" href="css/style.css">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>

<div class="container">
    <div>
        <textarea style="width:100%; font-family:monospace;font-style: oblique" name="" id="" cols="" rows="7" placeholder="Type something...."></textarea>
    </div>
    <div>
        <label for="message-1">
            <img src="images/icon/picture-layer-1.svg" alt="">
            <input type="file" accept="image/*" name="" id="message-1" style="display: none" onclick="showresponddiv(this.id)" onchange="loadFile(event)">
            
        </label>

        <label for="message-2">
            <img src="images/icon/video-call-1.svg" alt="">
            <input type="file" name="file[]" class="file_multi_video" id="message-2" accept="video/*" style="display: none" onclick="showresponddiv(this.id)">
        </label>
        <input style="float: right" value="Upload" type="submit" name="submit" id="">
    </div>
        <h3>Preview</h3>
        <img src="" id="respond-1" alt="" height="200px" width="200px" class="center" style="display:none">
        <video id="respond-2" width="400" controls class="center" style="display:none">
            <source src="" id="video_here">
                  Your browser does not support HTML5 video.
        </video>
</div>
<script>
        var loadFile = function(event) {
          var reader = new FileReader();
          reader.onload = function(){
            var output = document.getElementById('respond-1');
            output.src = reader.result;
          };
          reader.readAsDataURL(event.target.files[0]);
        };

        $(document).on("change", ".file_multi_video", function(evt) {
            var $source = $('#video_here');
            $source[0].src = URL.createObjectURL(this.files[0]);
            $source.parent()[0].load();
        });

        var current = null;
        function showresponddiv(messagedivid){
        var id = messagedivid.replace("message-", "respond-"),
        div = document.getElementById(id);

        // hide previous one
        if(current && current != div) {
        current.style.display =  'none';
        }   

        if (div.style.display=="none"){
        div.style.display="inline";
        current = div;
        } 
        else {
        div.style.display="none";
        }
    }
      </script>